[gd_scene load_steps=8 format=3 uid="uid://b5ojlkfbis4u0"]

[ext_resource type="TileSet" uid="uid://dqvce1djursoh" path="res://assets/resources/tile_sets/school.tres" id="1_f48ue"]
[ext_resource type="PackedScene" uid="uid://sx8d1fd6ter4" path="res://scenes/interactables/door.tscn" id="2_k8squ"]
[ext_resource type="PackedScene" uid="uid://d28b8s4uq8l1c" path="res://scenes/interactables/bed.tscn" id="3_wup5n"]
[ext_resource type="Texture2D" uid="uid://ddpadqw2efo5l" path="res://assets/art/environments/bed.png" id="4_5p5rk"]
[ext_resource type="Texture2D" uid="uid://cvwcqs38sh45g" path="res://assets/art/environments/sleeping.png" id="5_k7ks8"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5qn2t"]
size = Vector2(32, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_on3mi"]
size = Vector2(64, 48)

[node name="Stock Room" type="Node2D"]
y_sort_enabled = true

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_f48ue")
format = 2
layer_0/name = "floor"
layer_0/tile_data = PackedInt32Array(-3014646, 851971, 7, -2949110, 851971, 7, -2883574, 851971, 7, -2818038, 851971, 7, -2752502, 851971, 7, -2686966, 851971, 7, -3014645, 851971, 7, -2949109, 851971, 7, -2883573, 851971, 7, -2818037, 851971, 7, -2752501, 851971, 7, -2686965, 851971, 7, -3014644, 851971, 7, -2949108, 851971, 7, -2883572, 851971, 7, -2818036, 851971, 7, -2752500, 851971, 7, -2686964, 851971, 7, -3014643, 851971, 7, -2949107, 851971, 7, -2883571, 851971, 7, -2818035, 851971, 7, -2752499, 851971, 7, -2686963, 851971, 7, -3014642, 851971, 7, -2949106, 851971, 7, -2883570, 851971, 7, -2818034, 851971, 7, -2752498, 851971, 7, -2686962, 851971, 7, -3014641, 851971, 7, -2949105, 851971, 7, -2883569, 851971, 7, -2818033, 851971, 7, -2752497, 851971, 7, -2686961, 851971, 7, -3014640, 851971, 7, -2949104, 851971, 7, -2883568, 851971, 7, -2818032, 851971, 7, -2752496, 851971, 7, -2686960, 851971, 7, -3014639, 851971, 7, -2949103, 851971, 7, -2883567, 851971, 7, -2818031, 851971, 7, -2752495, 851971, 7, -2686959, 851971, 7, -3014638, 851971, 7, -2949102, 851971, 7, -2883566, 851971, 7, -2818030, 851971, 7, -2752494, 851971, 7, -2686958, 851971, 7, -3014637, 851971, 7, -2949101, 851971, 7, -2883565, 851971, 7, -2818029, 851971, 7, -2752493, 851971, 7, -2686957, 851971, 7, -3014636, 851971, 7, -2949100, 851971, 7, -2883564, 851971, 7, -2818028, 851971, 7, -2752492, 851971, 7, -2686956, 851971, 7, -3014635, 851971, 7, -2949099, 851971, 7, -2883563, 851971, 7, -2818027, 851971, 7, -2752491, 851971, 7, -2686955, 851971, 7, -3014634, 851971, 7, -2949098, 851971, 7, -2883562, 851971, 7, -2818026, 851971, 7, -2752490, 851971, 7, -2686954, 851971, 7, -3014633, 851971, 7, -2949097, 851971, 7, -2883561, 851971, 7, -2818025, 851971, 7, -2752489, 851971, 7, -2686953, 851971, 7, -3014632, 851971, 7, -2949096, 851971, 7, -2883560, 851971, 7, -2818024, 851971, 7, -2752488, 851971, 7, -2686952, 851971, 7)
layer_1/name = "walls"
layer_1/tile_data = PackedInt32Array(-3276790, 3, 0, -3211254, 3, 0, -3145718, 3, 0, -3080182, 3, 1, -3080181, 65539, 1, -3080180, 65539, 1, -3080179, 65539, 1, -3080178, 65539, 1, -3080177, 65539, 1, -3080176, 65539, 1, -3080175, 65539, 1, -3080174, 65539, 1, -3080173, 65539, 1, -3080172, 65539, 1, -3080171, 65539, 1, -3080170, 65539, 1, -3080169, 65539, 1, -3080168, 131075, 1, -3276776, 131075, 0, -3211240, 131075, 0, -3145704, 131075, 0, -3276789, 65539, 0, -3211253, 65539, 0, -3145717, 65539, 0, -3276788, 65539, 0, -3211252, 65539, 0, -3145716, 65539, 0, -3276787, 65539, 0, -3211251, 65539, 0, -3145715, 65539, 0, -3276786, 65539, 0, -3211250, 65539, 0, -3145714, 65539, 0, -3276785, 65539, 0, -3211249, 65539, 0, -3145713, 65539, 0, -3276784, 65539, 0, -3211248, 65539, 0, -3145712, 65539, 0, -3276783, 65539, 0, -3211247, 65539, 0, -3145711, 65539, 0, -3276782, 65539, 0, -3211246, 65539, 0, -3145710, 65539, 0, -3276781, 65539, 0, -3211245, 65539, 0, -3145709, 65539, 0, -3276780, 65539, 0, -3211244, 65539, 0, -3145708, 65539, 0, -3276779, 65539, 0, -3211243, 65539, 0, -3145707, 65539, 0, -3276778, 65539, 0, -3211242, 65539, 0, -3145706, 65539, 0, -3276777, 65539, 0, -3211241, 65539, 0, -3145705, 65539, 0, -3538919, 196611, 0, -3473383, 196611, 0, -3407847, 196611, 0, -3342311, 196611, 0, -3276775, 196611, 0, -3211239, 196611, 0, -3145703, 196611, 0, -3080167, 196611, 0, -3014631, 196611, 0, -2949095, 196611, 0, -2883559, 196611, 0, -2818023, 196611, 0, -2752487, 196611, 0, -2686951, 196611, 0, -3538918, 196611, 0, -3473382, 196611, 0, -3407846, 196611, 0, -3342310, 196611, 0, -3276774, 196611, 0, -3211238, 196611, 0, -3145702, 196611, 0, -3080166, 196611, 0, -3014630, 196611, 0, -2949094, 196611, 0, -2883558, 196611, 0, -2818022, 196611, 0, -2752486, 196611, 0, -2686950, 196611, 0, -3538917, 196611, 0, -3473381, 196611, 0, -3407845, 196611, 0, -3342309, 196611, 0, -3276773, 196611, 0, -3211237, 196611, 0, -3145701, 196611, 0, -3080165, 196611, 0, -3014629, 196611, 0, -2949093, 196611, 0, -2883557, 196611, 0, -2818021, 196611, 0, -2752485, 196611, 0, -2686949, 196611, 0, -3538916, 196611, 0, -3473380, 196611, 0, -3407844, 196611, 0, -3342308, 196611, 0, -3276772, 196611, 0, -3211236, 196611, 0, -3145700, 196611, 0, -3080164, 196611, 0, -3014628, 196611, 0, -2949092, 196611, 0, -2883556, 196611, 0, -2818020, 196611, 0, -2752484, 196611, 0, -2686948, 196611, 0, -3538915, 196611, 0, -3473379, 196611, 0, -3407843, 196611, 0, -3342307, 196611, 0, -3276771, 196611, 0, -3211235, 196611, 0, -3145699, 196611, 0, -3080163, 196611, 0, -3014627, 196611, 0, -2949091, 196611, 0, -2883555, 196611, 0, -2818019, 196611, 0, -2752483, 196611, 0, -2686947, 196611, 0, -3538936, 196611, 0, -3473400, 196611, 0, -3407864, 196611, 0, -3342328, 196611, 0, -3538935, 196611, 0, -3473399, 196611, 0, -3407863, 196611, 0, -3342327, 196611, 0, -3538934, 196611, 0, -3473398, 196611, 0, -3407862, 196611, 0, -3342326, 196611, 0, -3538933, 196611, 0, -3473397, 196611, 0, -3407861, 196611, 0, -3342325, 196611, 0, -3538932, 196611, 0, -3473396, 196611, 0, -3407860, 196611, 0, -3342324, 196611, 0, -3538931, 196611, 0, -3473395, 196611, 0, -3407859, 196611, 0, -3342323, 196611, 0, -3538930, 196611, 0, -3473394, 196611, 0, -3407858, 196611, 0, -3342322, 196611, 0, -3538929, 196611, 0, -3473393, 196611, 0, -3407857, 196611, 0, -3342321, 196611, 0, -3538928, 196611, 0, -3473392, 196611, 0, -3407856, 196611, 0, -3342320, 196611, 0, -3538927, 196611, 0, -3473391, 196611, 0, -3407855, 196611, 0, -3342319, 196611, 0, -3538926, 196611, 0, -3473390, 196611, 0, -3407854, 196611, 0, -3342318, 196611, 0, -3538925, 196611, 0, -3473389, 196611, 0, -3407853, 196611, 0, -3342317, 196611, 0, -3538924, 196611, 0, -3473388, 196611, 0, -3407852, 196611, 0, -3342316, 196611, 0, -3538923, 196611, 0, -3473387, 196611, 0, -3407851, 196611, 0, -3342315, 196611, 0, -3538922, 196611, 0, -3473386, 196611, 0, -3407850, 196611, 0, -3342314, 196611, 0, -3538921, 196611, 0, -3473385, 196611, 0, -3407849, 196611, 0, -3342313, 196611, 0, -3538920, 196611, 0, -3473384, 196611, 0, -3407848, 196611, 0, -3342312, 196611, 0, -3538939, 196611, 0, -3473403, 196611, 0, -3407867, 196611, 0, -3342331, 196611, 0, -3276795, 196611, 0, -3211259, 196611, 0, -3145723, 196611, 0, -3080187, 196611, 0, -3014651, 196611, 0, -2949115, 196611, 0, -2883579, 196611, 0, -2818043, 196611, 0, -2752507, 196611, 0, -2686971, 196611, 0, -3538938, 196611, 0, -3473402, 196611, 0, -3407866, 196611, 0, -3342330, 196611, 0, -3276794, 196611, 0, -3211258, 196611, 0, -3145722, 196611, 0, -3080186, 196611, 0, -3014650, 196611, 0, -2949114, 196611, 0, -2883578, 196611, 0, -2818042, 196611, 0, -2752506, 196611, 0, -2686970, 196611, 0, -3538937, 196611, 0, -3473401, 196611, 0, -3407865, 196611, 0, -3342329, 196611, 0, -3276793, 196611, 0, -3211257, 196611, 0, -3145721, 196611, 0, -3080185, 196611, 0, -3014649, 196611, 0, -2949113, 196611, 0, -2883577, 196611, 0, -2818041, 196611, 0, -2752505, 196611, 0, -2686969, 196611, 0, -3276792, 196611, 0, -3211256, 196611, 0, -3145720, 196611, 0, -3080184, 196611, 0, -3014648, 196611, 0, -2949112, 196611, 0, -2883576, 196611, 0, -2818040, 196611, 0, -2752504, 196611, 0, -2686968, 196611, 0, -3276791, 196611, 0, -3211255, 196611, 0, -3145719, 196611, 0, -3080183, 196611, 0, -3014647, 196611, 0, -2949111, 196611, 0, -2883575, 196611, 0, -2818039, 196611, 0, -2752503, 196611, 0, -2686967, 196611, 0, -2621435, 196611, 0, -2555899, 196611, 0, -2621434, 196611, 0, -2555898, 196611, 0, -2621433, 196611, 0, -2555897, 196611, 0, -2621432, 196611, 0, -2555896, 196611, 0, -2621431, 196611, 0, -2555895, 196611, 0, -2621430, 196611, 0, -2555894, 196611, 0, -2621429, 196611, 0, -2555893, 196611, 0, -2621428, 196611, 0, -2555892, 196611, 0, -2621427, 196611, 0, -2555891, 196611, 0, -2621426, 196611, 0, -2555890, 196611, 0, -2621425, 196611, 0, -2555889, 196611, 0, -2621424, 196611, 0, -2555888, 196611, 0, -2621423, 196611, 0, -2555887, 196611, 0, -2621422, 196611, 0, -2555886, 196611, 0, -2621421, 196611, 0, -2555885, 196611, 0, -2621420, 196611, 0, -2555884, 196611, 0, -2621419, 196611, 0, -2555883, 196611, 0, -2621418, 196611, 0, -2555882, 196611, 0, -2621417, 196611, 0, -2555881, 196611, 0, -2621416, 196611, 0, -2555880, 196611, 0, -2621415, 196611, 0, -2555879, 196611, 0, -2621414, 196611, 0, -2555878, 196611, 0, -2621413, 196611, 0, -2555877, 196611, 0, -2621412, 196611, 0, -2555876, 196611, 0, -2621411, 196611, 0, -2555875, 196611, 0, -3538940, 196611, 0, -3473404, 196611, 0, -3407868, 196611, 0, -3342332, 196611, 0, -3276796, 196611, 0, -3211260, 196611, 0, -3145724, 196611, 0, -3080188, 196611, 0, -3014652, 196611, 0, -2949116, 196611, 0, -2883580, 196611, 0, -2818044, 196611, 0, -2752508, 196611, 0, -2686972, 196611, 0, -2621436, 196611, 0, -2555900, 196611, 0, -3538914, 196611, 0, -3473378, 196611, 0, -3407842, 196611, 0, -3342306, 196611, 0, -3276770, 196611, 0, -3211234, 196611, 0, -3145698, 196611, 0, -3080162, 196611, 0, -3014626, 196611, 0, -2949090, 196611, 0, -2883554, 196611, 0, -2818018, 196611, 0, -2752482, 196611, 0, -2686946, 196611, 0, -2621410, 196611, 0, -2555874, 196611, 0, -3670012, 196611, 0, -3604476, 196611, 0, -3670011, 196611, 0, -3604475, 196611, 0, -3670010, 196611, 0, -3604474, 196611, 0, -3670009, 196611, 0, -3604473, 196611, 0, -3670008, 196611, 0, -3604472, 196611, 0, -3670007, 196611, 0, -3604471, 196611, 0, -3670006, 196611, 0, -3604470, 196611, 0, -3670005, 196611, 0, -3604469, 196611, 0, -3670004, 196611, 0, -3604468, 196611, 0, -3670003, 196611, 0, -3604467, 196611, 0, -3670002, 196611, 0, -3604466, 196611, 0, -3670001, 196611, 0, -3604465, 196611, 0, -3670000, 196611, 0, -3604464, 196611, 0, -3669999, 196611, 0, -3604463, 196611, 0, -3669998, 196611, 0, -3604462, 196611, 0, -3669997, 196611, 0, -3604461, 196611, 0, -3669996, 196611, 0, -3604460, 196611, 0, -3669995, 196611, 0, -3604459, 196611, 0, -3669994, 196611, 0, -3604458, 196611, 0, -3669993, 196611, 0, -3604457, 196611, 0, -3669992, 196611, 0, -3604456, 196611, 0, -3669991, 196611, 0, -3604455, 196611, 0, -3669990, 196611, 0, -3604454, 196611, 0, -3669989, 196611, 0, -3604453, 196611, 0, -3669988, 196611, 0, -3604452, 196611, 0, -3669987, 196611, 0, -3604451, 196611, 0, -3669986, 196611, 0, -3604450, 196611, 0)
layer_2/name = "ysort"
layer_2/y_sort_enabled = true
layer_2/z_index = 1
layer_2/tile_data = PackedInt32Array(-2883560, 458755, 2, -2949096, 524291, 3, -2949097, 524291, 3, -2949100, 1114115, 5, -2883563, 1114115, 5, -3014646, 1114115, 1, -3014645, 1114115, 1, -2949110, 1114115, 1, -2883574, 1114115, 1, -2949109, 1114115, 5, -2883572, 1114115, 5, -2949107, 1114115, 5)
layer_3/name = "deco"
layer_3/tile_data = PackedInt32Array(-3211253, 458755, 0, -3145717, 458755, 1, -3211252, 524291, 0, -3145716, 524291, 1, -3211251, 589827, 0, -3145715, 589827, 1, -3211249, 458755, 0, -3145713, 458755, 1, -3211248, 524291, 0, -3145712, 524291, 1, -3211247, 589827, 0, -3145711, 589827, 1, -3211243, 262147, 3, -3145707, 262147, 4, -3080171, 262147, 5, -3145706, 327683, 4, -3080170, 327683, 5, -2752498, 917507, 4, -2686961, 917507, 4, -2752494, 851971, 4, -2686958, 983043, 4, -2949104, 917507, 4, -2883567, 786435, 4, -2686957, 786435, 16, -2686956, 851971, 16)
metadata/_edit_lock_ = true

[node name="Collisions" type="StaticBody2D" parent="."]
z_index = 1
collision_layer = 4
collision_mask = 3

[node name="Border" type="CollisionPolygon2D" parent="Collisions"]
polygon = PackedVector2Array(160, -640, 160, -736, 400, -736, 400, -608, 432, -608, 432, -768, 128, -768, 128, -624, 448, -624, 448, -640)

[node name="DoorToStockRoom" parent="Collisions" node_paths=PackedStringArray("collision") instance=ExtResource("2_k8squ")]
collision = NodePath("CollisionShape2D")
direction = "down"
new_area = "mission 3 - school"
openable = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collisions/DoorToStockRoom"]
position = Vector2(320, -648)
shape = SubResource("RectangleShape2D_5qn2t")

[node name="Interactables" type="Node2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Bed" parent="Interactables" node_paths=PackedStringArray("Collision", "bed_sprite", "sleeping_sprite") instance=ExtResource("3_wup5n")]
position = Vector2(368, -672)
Collision = NodePath("CollisionShape2D")
bed_sprite = NodePath("Bed")
sleeping_sprite = NodePath("Sleeping")

[node name="Bed" type="Sprite2D" parent="Interactables/Bed"]
texture = ExtResource("4_5p5rk")
flip_h = true

[node name="Sleeping" type="Sprite2D" parent="Interactables/Bed"]
texture = ExtResource("5_k7ks8")
flip_h = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Bed"]
position = Vector2(0, 8)
shape = SubResource("RectangleShape2D_on3mi")
