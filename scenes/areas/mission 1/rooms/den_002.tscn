[gd_scene load_steps=13 format=3 uid="uid://5tg52q50nxl4"]

[ext_resource type="TileSet" uid="uid://b3v8i8oi20y22" path="res://assets/resources/tile_sets/outside.tres" id="1_wsu2v"]
[ext_resource type="PackedScene" uid="uid://bd6kftdahgbka" path="res://scenes/components/level_transition.tscn" id="3_ayqap"]
[ext_resource type="PackedScene" uid="uid://c3tqr87ilgnri" path="res://scenes/interactables/pickup.tscn" id="3_jrosi"]
[ext_resource type="Resource" uid="uid://bt5wg4f3jk8xb" path="res://assets/resources/dialogues/interactables/chest.dialogue" id="4_vtemh"]
[ext_resource type="Resource" uid="uid://cmhr6sn0lq64b" path="res://assets/resources/items/rat_mask.tres" id="5_bkrcu"]
[ext_resource type="Script" path="res://assets/resources/inventory_slot.gd" id="6_1o7e6"]
[ext_resource type="Script" path="res://assets/resources/inventory.gd" id="7_e2x3o"]
[ext_resource type="Texture2D" uid="uid://tiwm7lw0in3b" path="res://assets/art/ui/ui_elements.png" id="8_hrbju"]

[sub_resource type="Resource" id="Resource_578s6"]
script = ExtResource("6_1o7e6")
item = ExtResource("5_bkrcu")
quantity = 1

[sub_resource type="Resource" id="Resource_ynkfc"]
script = ExtResource("7_e2x3o")
items = Array[ExtResource("6_1o7e6")]([SubResource("Resource_578s6")])

[sub_resource type="AtlasTexture" id="AtlasTexture_edps1"]
atlas = ExtResource("8_hrbju")
region = Rect2(16, 352, 16, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vygj8"]
size = Vector2(16, 16)

[node name="Den002" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_wsu2v")
format = 2
layer_0/name = "floor"
layer_0/tile_data = PackedInt32Array(-7274427, 196608, 13, -7274426, 0, 14, -7274425, 0, 14, -7274424, 0, 14, -7274423, 65536, 14, -7274422, 262144, 12, -7274421, 131072, 13, -7274420, 0, 14, -7274419, 0, 14, -7274418, 0, 14, -7274417, 196608, 14, -7274416, 65536, 12, -7274415, 65536, 12, -7274414, 262144, 13, -7274413, 0, 14, -7405499, 0, 13, -7339963, 65536, 13, -7405498, 262144, 14, -7339962, 0, 14, -7405497, 0, 13, -7339961, 262144, 14, -7405496, 0, 13, -7339960, 196608, 12, -7405495, 0, 13, -7339959, 196608, 13, -7405494, 65536, 14, -7339958, 0, 14, -7405493, 131072, 14, -7339957, 131072, 13, -7405492, 0, 13, -7339956, 327680, 13, -7405491, 0, 13, -7339955, 0, 14, -7405490, 0, 13, -7339954, 196608, 14, -7405489, 262144, 13, -7339953, 131072, 12, -7405488, 65536, 13, -7339952, 327680, 13, -7405487, 0, 13, -7339951, 0, 14, -7405486, 0, 13, -7339950, 0, 14, -7405485, 0, 13, -7339949, 0, 14, -7864251, 0, 14, -7798715, 262144, 13, -7733179, 131072, 14, -7667643, 196608, 14, -7602107, 196608, 14, -7536571, 0, 13, -7471035, 0, 14, -8126394, 0, 13, -7864250, 0, 14, -7798714, 131072, 13, -7733178, 0, 13, -7667642, 0, 14, -7602106, 0, 12, -7536570, 0, 13, -7471034, 0, 14, -8126393, 65536, 12, -7864249, 0, 14, -7798713, 0, 12, -7733177, 131072, 12, -7667641, 0, 14, -7602105, 131072, 14, -7536569, 131072, 12, -7471033, 0, 14, -8126392, 327680, 14, -7864248, 0, 14, -7798712, 0, 12, -7733176, 0, 13, -7667640, 0, 14, -7602104, 0, 12, -7536568, 0, 13, -7471032, 196608, 13, -8126391, 0, 13, -8060855, 0, 14, -7995319, 0, 12, -7929783, 0, 13, -7864247, 0, 14, -7798711, 262144, 13, -7733175, 196608, 14, -7667639, 0, 14, -7602103, 0, 12, -7536567, 0, 13, -7471031, 0, 14, -8126390, 0, 13, -8060854, 0, 14, -7995318, 0, 12, -7929782, 0, 13, -7864246, 0, 14, -7798710, 262144, 13, -7733174, 131072, 14, -7667638, 0, 14, -7602102, 262144, 13, -7536566, 0, 13, -7471030, 0, 14, -8126389, 0, 13, -8060853, 65536, 14, -7995317, 0, 12, -7929781, 0, 13, -7864245, 0, 14, -7798709, 262144, 12, -7733173, 0, 13, -7667637, 262144, 12, -7602101, 196608, 14, -7536565, 0, 13, -7471029, 0, 14, -8126388, 0, 13, -8060852, 131072, 14, -7995316, 0, 12, -7929780, 0, 13, -7864244, 0, 14, -7798708, 0, 12, -7733172, 0, 13, -7667636, 131072, 14, -7602100, 0, 12, -7536564, 0, 13, -7471028, 196608, 14, -8126387, 0, 13, -8060851, 0, 14, -7995315, 0, 12, -7929779, 0, 13, -7864243, 0, 14, -7798707, 0, 12, -7733171, 0, 13, -7667635, 0, 14, -7602099, 0, 12, -7536563, 0, 13, -7471027, 196608, 13, -8126386, 65536, 14, -8060850, 0, 14, -7995314, 0, 12, -7929778, 0, 13, -7864242, 0, 14, -7798706, 0, 12, -7733170, 196608, 14, -7667634, 131072, 12, -7602098, 0, 12, -7536562, 131072, 12, -7471026, 0, 14, -8126385, 196608, 12, -8060849, 0, 14, -7995313, 0, 12, -7929777, 65536, 13, -7864241, 0, 14, -7798705, 0, 12, -7733169, 0, 13, -7667633, 131072, 14, -7602097, 0, 12, -7536561, 0, 13, -7471025, 196608, 13, -8126384, 0, 13, -8060848, 0, 14, -7995312, 0, 12, -7929776, 0, 13, -7864240, 0, 14, -7798704, 0, 12, -7733168, 0, 13, -7667632, 0, 14, -7602096, 0, 12, -7536560, 0, 13, -7471024, 0, 14, -8126383, 0, 13, -8060847, 196608, 13, -7995311, 0, 12, -7929775, 0, 13, -7864239, 131072, 13, -7798703, 0, 12, -7733167, 327680, 12, -7667631, 262144, 13, -7602095, 0, 12, -7536559, 0, 13, -7471023, 0, 14, -8126382, 0, 13, -8060846, 0, 14, -7995310, 0, 12, -7929774, 0, 13, -7864238, 0, 14, -7798702, 131072, 13, -7733166, 0, 13, -7667630, 0, 14, -7602094, 327680, 14, -7536558, 0, 13, -7471022, 0, 14, -8126381, 0, 13, -8060845, 0, 14, -7995309, 0, 12, -7929773, 327680, 12, -7864237, 0, 14, -7798701, 0, 12, -7733165, 0, 13, -7667629, 0, 14, -7602093, 262144, 14, -7536557, 0, 13, -7471021, 131072, 14, -8060858, 65536, 12, -7995322, 0, 12, -7929786, 0, 13, -8060857, 0, 14, -7995321, 65536, 13, -7929785, 0, 13, -8060856, 131072, 12, -7995320, 0, 12, -7929784, 327680, 13, -7995323, 0, 14, -7929787, 0, 13, -8126395, 0, 12, -8060859, 0, 13, -7208891, 0, 12, -7208890, 131072, 14, -7208889, 327680, 12, -7208888, 0, 12, -7208887, 0, 12, -7208886, 0, 12, -7208885, 196608, 12, -7208884, 0, 12, -7208883, 0, 12, -7208882, 196608, 13, -7208881, 0, 12, -7208880, 0, 12, -7208879, 327680, 13, -7208878, 0, 12, -7208877, 0, 12)
layer_1/name = "walls"
layer_1/tile_data = PackedInt32Array(-7929787, 851974, 0, -7995323, 851974, 0, -7995322, 851974, 0, -7995321, 851974, 0, -8060856, 851974, 0, -8060855, 851974, 0, -8126391, 851974, 0, -8126390, 851974, 0, -8126389, 851974, 0, -8191925, 851974, 0, -8191924, 851974, 0, -8191923, 851974, 0, -8191922, 851974, 0, -8126386, 851974, 0, -8126385, 851974, 0, -8126384, 851974, 0, -8060848, 851974, 0, -8060847, 851974, 0, -8060846, 851974, 0, -7995310, 851974, 0, -7995309, 851974, 0, -7929773, 851974, 0, -8060859, 851974, 0, -8060858, 851974, 0, -8060857, 851974, 0, -8126392, 851974, 0, -8126393, 851974, 0, -8126394, 851974, 0, -8126395, 851974, 0, -8191931, 851974, 0, -8191930, 851974, 0, -8191929, 851974, 0, -8191928, 851974, 0, -8191927, 851974, 0, -8191926, 851974, 0, -8191921, 851974, 0, -8191920, 851974, 0, -8191919, 851974, 0, -8191918, 851974, 0, -8191917, 851974, 0, -8126381, 851974, 0, -8060845, 851974, 0, -8126382, 851974, 0, -8126383, 851974, 0, -8323007, 851974, 0, -8257471, 851974, 0, -8191935, 851974, 0, -8126399, 851974, 0, -8060863, 851974, 0, -7995327, 851974, 0, -7929791, 851974, 0, -7864255, 851974, 0, -7798719, 851974, 0, -7733183, 851974, 0, -7667647, 851974, 0, -7602111, 851974, 0, -7536575, 851974, 0, -7471039, 851974, 0, -7405503, 851974, 0, -7339967, 851974, 0, -7274431, 851974, 0, -7208895, 851974, 0, -8323006, 851974, 0, -8257470, 851974, 0, -8191934, 851974, 0, -8126398, 851974, 0, -8060862, 851974, 0, -7995326, 851974, 0, -7929790, 851974, 0, -7864254, 851974, 0, -7798718, 851974, 0, -7733182, 851974, 0, -7667646, 851974, 0, -7602110, 851974, 0, -7536574, 851974, 0, -7471038, 851974, 0, -7405502, 851974, 0, -7339966, 851974, 0, -7274430, 851974, 0, -7208894, 851974, 0, -8323005, 851974, 0, -8257469, 851974, 0, -8191933, 851974, 0, -8126397, 851974, 0, -8060861, 851974, 0, -7995325, 851974, 0, -7929789, 851974, 0, -7864253, 851974, 0, -7798717, 851974, 0, -7733181, 851974, 0, -7667645, 851974, 0, -7602109, 851974, 0, -7536573, 851974, 0, -7471037, 851974, 0, -7405501, 851974, 0, -7339965, 851974, 0, -7274429, 851974, 0, -7208893, 851974, 0, -8323004, 851974, 0, -8257468, 851974, 0, -8191932, 851974, 0, -8126396, 851974, 0, -8060860, 851974, 0, -7995324, 851974, 0, -7929788, 851974, 0, -7864252, 851974, 0, -7798716, 851974, 0, -7733180, 851974, 0, -7667644, 851974, 0, -7602108, 851974, 0, -7536572, 851974, 0, -7471036, 851974, 0, -7405500, 851974, 0, -7339964, 851974, 0, -7274428, 851974, 0, -7208892, 851974, 0, -8323003, 851974, 0, -8257467, 851974, 0, -8323002, 851974, 0, -8257466, 851974, 0, -8323001, 851974, 0, -8257465, 851974, 0, -8323000, 851974, 0, -8257464, 851974, 0, -8322999, 851974, 0, -8257463, 851974, 0, -8322998, 851974, 0, -8257462, 851974, 0, -8322997, 851974, 0, -8257461, 851974, 0, -8322996, 851974, 0, -8257460, 851974, 0, -8322995, 851974, 0, -8257459, 851974, 0, -8322994, 851974, 0, -8257458, 851974, 0, -8322993, 851974, 0, -8257457, 851974, 0, -8322992, 851974, 0, -8257456, 851974, 0, -8322991, 851974, 0, -8257455, 851974, 0, -8322990, 851974, 0, -8257454, 851974, 0, -8322989, 851974, 0, -8257453, 851974, 0, -8322988, 851974, 0, -8257452, 851974, 0, -8191916, 851974, 0, -8322987, 851974, 0, -8257451, 851974, 0, -8191915, 851974, 0, -8322986, 851974, 0, -8257450, 851974, 0, -8191914, 851974, 0, -8322985, 851974, 0, -8257449, 851974, 0, -8191913, 851974, 0, -8126380, 851974, 0, -8060844, 851974, 0, -7995308, 851974, 0, -7929772, 851974, 0, -7864236, 851974, 0, -7798700, 851974, 0, -7733164, 851974, 0, -7667628, 851974, 0, -7602092, 851974, 0, -7536556, 851974, 0, -7471020, 851974, 0, -7405484, 851974, 0, -7339948, 851974, 0, -7274412, 851974, 0, -7208876, 851974, 0, -8126379, 851974, 0, -8060843, 851974, 0, -7995307, 851974, 0, -7929771, 851974, 0, -7864235, 851974, 0, -7798699, 851974, 0, -7733163, 851974, 0, -7667627, 851974, 0, -7602091, 851974, 0, -7536555, 851974, 0, -7471019, 851974, 0, -7405483, 851974, 0, -7339947, 851974, 0, -7274411, 851974, 0, -7208875, 851974, 0, -8126378, 851974, 0, -8060842, 851974, 0, -7995306, 851974, 0, -7929770, 851974, 0, -7864234, 851974, 0, -7798698, 851974, 0, -7733162, 851974, 0, -7667626, 851974, 0, -7602090, 851974, 0, -7536554, 851974, 0, -7471018, 851974, 0, -7405482, 851974, 0, -7339946, 851974, 0, -7274410, 851974, 0, -7208874, 851974, 0, -8126377, 851974, 0, -8060841, 851974, 0, -7995305, 851974, 0, -7929769, 851974, 0, -7864233, 851974, 0, -7798697, 851974, 0, -7733161, 851974, 0, -7667625, 851974, 0, -7602089, 851974, 0, -7536553, 851974, 0, -7471017, 851974, 0, -7405481, 851974, 0, -7339945, 851974, 0, -7274409, 851974, 0, -7208873, 851974, 0)
layer_2/name = "ysort"
layer_2/y_sort_enabled = true
layer_2/z_index = 1
layer_2/tile_data = PackedInt32Array()
layer_3/name = "deco"
layer_3/tile_data = PackedInt32Array()
metadata/_edit_lock_ = true

[node name="Collisions" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions"]
polygon = PackedVector2Array(1104, -1744, 1184, -1744, 1184, -1728, 1280, -1728, 1280, -1744, 1344, -1744, 1344, -1920, 1328, -1920, 1328, -1936, 1312, -1936, 1312, -1952, 1280, -1952, 1280, -1968, 1248, -1968, 1248, -1984, 1216, -1984, 1216, -1968, 1184, -1968, 1184, -1952, 1152, -1952, 1152, -1936, 1120, -1936, 1120, -1920, 1104, -1920, 1104, -2000, 1360, -2000, 1360, -1712, 1088, -1712, 1088, -1920, 1104, -1920)

[node name="ToDen002" parent="Collisions" instance=ExtResource("3_ayqap")]
position = Vector2(1200, -1760)
direction = "down"

[node name="Collision" parent="Collisions/ToDen002" index="0"]
polygon = PackedVector2Array(-16, 16, 80, 16, 80, 32, -16, 32)

[node name="Interactables" type="Node2D" parent="."]

[node name="Pickup" parent="Interactables" node_paths=PackedStringArray("collision", "sprite") instance=ExtResource("3_jrosi")]
collision = NodePath("CollisionShape2D")
dialogue_resource = ExtResource("4_vtemh")
inventory = SubResource("Resource_ynkfc")
sprite = NodePath("Sprite2D")

[node name="Sprite2D" type="Sprite2D" parent="Interactables/Pickup"]
position = Vector2(1224, -1912)
scale = Vector2(1, 0.999996)
texture = SubResource("AtlasTexture_edps1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Pickup"]
position = Vector2(1224, -1912)
shape = SubResource("RectangleShape2D_vygj8")

[editable path="Collisions/ToDen002"]
